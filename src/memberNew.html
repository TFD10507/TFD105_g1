<!DOCTYPE html>
<html lang="en">
  <head>
    @@include('layout/head.html')
    <!-- 字型 google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body id="memberNew">
    @@include('layout/login.html')
    @@include('layout/nav.html')
    <main class="container">
      <h2 class="padding_10"><span class="textUnderline">會員中心</span></h1>

        <!-- tab標籤 -->
      <ul class="tabs margin_top_20">
        <li data-tab-target="#member" class="active tab padding_10">
          會員資料
        </li>
        <li data-tab-target="#password" class="tab padding_10">密碼變更</li>
        <li data-tab-target="#order" class="tab padding_10">訂單查詢</li>
        <li data-tab-target="#favor" class="tab padding_10">收藏清單</li>
      </ul>

        <!-- 會員資料內容 -->
      <div class="tab-content padding_20">
        <div id="member" data-tab-content class="active">
            <h3>資料變更</h3>
            <form action="#" method="post">
                <div class="member-name margin_top_20">姓名:</div>
                <input type="text" name="name" placeholder="xxx" required>
                <div class="member-add margin_top_10">聯絡地址:</div>
                <input type="text" name="address" required>
                <div class="member-phone margin_top_10">電話:</div>
                <input type="tel" name="phone" maxlength="10" required><br>
                <button type="submit" name="submit" id="submit" class="member-btn margin_top_20">修改</button>
            </form>
        </div>

        <!-- 密碼變更內容 -->
        <div id="password" data-tab-content>
            <h3>密碼變更</h3>
            <div class="margin_top_20">
                <span>舊密碼:</span><br>
                <input type="password" name="password" placeholder="請輸入舊密碼" required>
            </div>
            <div class="margin_top_10">
                <span>新密碼:</span><br>
                <input type="password" name="password" placeholder="請輸入新密碼" required>
            </div>
            <div class="margin_top_10">
                <span>確認新密碼:</span><br>
                <input type="password" name="password" placeholder="請再次輸入新密碼" required>
            </div>
            <!-- <input class="send" type="submit" value="修改"> -->
            <button type="submit" name="submit" id="submit" class="password-btn margin_top_20">修改</button>
        </div>

        <!-- 訂單查詢內容 -->
        <div id="order" data-tab-content>
          <div class="search padding_20">
            <input
              class="search-bar"
              type="text"
              name="search"
              id="search"
              placeholder="  請輸入訂單編號"
            />
            <button class="search-btn" type="submit">
              <i class="fas fa-search"></i>
            </button>
          </div>
          <div class="clearFloat"></div>

          <ul class="order-title padding_10">
            <li>訂單編號</li>
            <li>購買日期</li>
            <li>訂單金額</li>
            <li>訂單狀態</li>
          </ul>

          <button type="button" class="collapsible padding_20">
            Open Collapsible
          </button>
          <div class="order-content padding_20">
            <p>Lorem ipsum...</p>
          </div>
        </div>
        <!-- 收藏清單內容 -->
        <div id="favor" data-tab-content>
          <h2>收藏清單</h2>
          <p>收藏清單</p>
        </div>
      </div>
    </main>

    @@include('layout/footer.html')

    <script>
      //  tab頁籤轉換
      const tabs = document.querySelectorAll("[data-tab-target]");
      const tabContents = document.querySelectorAll("[data-tab-content]");

      tabs.forEach((tab) => {
        tab.addEventListener("click", () => {
          const target = document.querySelector(tab.dataset.tabTarget);
          tabContents.forEach((tabContent) => {
            tabContent.classList.remove("active");
          });
          tabs.forEach((tab) => {
            tab.classList.remove("active");
          });
          tab.classList.add("active");
          target.classList.add("active");
        });
      });

      // 訂單查詢明細展開
      var order = document.getElementsByClassName("collapsible");
      var i;

      for (i = 0; i < order.length; i++) {
        order[i].addEventListener("click", function () {
          this.classList.toggle("active");
          var content = this.nextElementSibling;
          if (content.style.display === "block") {
            content.style.display = "none";
          } else {
            content.style.display = "block";
          }
        });
      }

      for (i = 0; i < order.length; i++) {
        order[i].addEventListener("click", function () {
          this.classList.toggle("active");
          var content = this.nextElementSibling;
          if (content.style.maxHeight) {
            content.style.maxHeight = null;
          } else {
            content.style.maxHeight = content.scrollHeight + "px";
          }
        });
      }
    </script>
  </body>
</html>