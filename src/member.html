<!DOCTYPE html>
<html lang="en">
  <head>
    @@include('layout/head.html')
    <!-- 字型 google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body id="member2">
    @@include('layout/login.html')
    @@include('layout/nav.html')
    @@include('layout/top.html')
    <main class="container">
      <h2 class="padding_10"><span class="textUnderline">會員中心</span></h1>

        <!-- tab頁籤 -->
      <ul class="tabs margin_top_20">
        <li data-tab-target="#member" class="active tab padding_10">會員資料</li>
        <li data-tab-target="#password" class="tab padding_10">密碼變更</li>
        <li data-tab-target="#order" class="tab padding_10">訂單查詢</li>
        <li data-tab-target="#favor" class="tab padding_10">收藏清單</li>
      </ul>

        <!-- 會員資料內容 -->
      <div class="tab-content padding_20">
        <div id="member" data-tab-content class="active">
            <h3>資料變更</h3>
            <div id="container">
              <form action="#" method="post">
                <div class="row justify-content-center">
                  <div class="form-group margin_top_20 col-12 col-md-8 col-lg-6">
                    <label for="memberName">姓名:</label>
                    <input type="text" class="form-control margin_top_10" id="memberName" placeholder="輸入姓名">
                  </div>
                </div>
                <div class="row justify-content-center">
                  <div class="form-group margin_top_20 col-12 col-md-8 col-lg-6">
                    <label for="memberAdd">聯絡地址:</label>
                    <input type="text" class="form-control margin_top_10" id="memberAdd" placeholder="輸入地址">
                  </div>
                </div>
                <div class="row justify-content-center">
                  <div class="form-group margin_top_20 col-12 col-md-8 col-lg-6">
                    <label for="memberPhone">電話:</label>
                    <input type="text" class="form-control margin_top_10" id="memberPhone" placeholder="輸入電話">
                  </div>
                </div>
                <div class="form-group margin_top_30 member-btn">
                  <button type="submit" class="btn btn-primary btn_style">確認修改</button>
                </div>
              </form>
            </div>
        </div>

        <!-- 密碼變更內容 -->
        <div id="password" data-tab-content>
            <h3>密碼變更</h3>
            <div id="container">
              <form action="#" method="post">
                <div class="row justify-content-center">
                  <div class="form-group margin_top_20 col-12 col-md-8 col-lg-6">
                    <label for="oldPassword">舊密碼:</label>
                    <input type="password" class="form-control margin_top_10" id="oldPassword" placeholder="輸入舊密碼" required>
                  </div>
                </div>
                <div class="row justify-content-center">
                  <div class="form-group margin_top_20 col-12 col-md-8 col-lg-6">
                    <label for="newPassword">新密碼:</label>
                    <input type="password" class="form-control margin_top_10" id="newPassword" placeholder="輸入新密碼" required>
                  </div>
                </div>
                <div class="row justify-content-center">
                  <div class="form-group margin_top_20 col-12 col-md-8 col-lg-6">
                    <label for="newPassword2">確認新密碼:</label>
                    <input type="password" class="form-control margin_top_10" id="newPassword2" placeholder="再次輸入新密碼" required>
                  </div>
                </div>
                <div class="form-group margin_top_30 password-btn">
                  <button type="submit" class="btn btn-primary btn_style">確認修改</button>
                </div>
              </form>
            </div>
        </div>

        <!-- 訂單查詢內容 -->
        <div id="order" data-tab-content>
          <div class="search padding_20">
            <input class="search-bar" type="search" name="search" id="search" placeholder="  請輸入訂單編號"/>
            <button class="search-btn" type="submit">
              <i class="fas fa-search"></i>
            </button>
          </div>
          <div class="clearFloat"></div>

          <ul class="order-title padding_10">
            <li>訂單編號</li>
            <li>購買日期</li>
            <li>訂單總額</li>
            <li>訂單狀態</li>
            <li>訂單明細</li>
          </ul>

          <button type="button" class="collapsible padding_10">
            <ul class="order-list">
              <li>22040101</li>
              <li>2022-03-31</li>
              <li>NT$38,888</li>
              <li>已出貨</li>
              <li style="outline: 1px solid #ffffff; border-radius: 2px; padding: 1px 5px;">查看</li>
            </ul>
          </button>
          <div class="order-content padding_10">
            <table class="order-details">
              <tr>
                <th>商品名稱</th>
                <th>材質</th>
                <th>數量</th>
                <th>價錢</th>
              </tr>
              <tr>
                <td>羅丹辦公桌</td>
                <td>白橡木</td>
                <td>1</td>
                <td>NT$18,999</td>
              </tr>
              <tr>
                <td>羅丹辦公椅</td>
                <td>白橡木</td>
                <td>1</td>
                <td>NT$20,000</td>
              </tr>
            </table>
          </div>

          <button type="button" class="collapsible padding_10">
            <ul class="order-list">
              <li>22033189</li>
              <li>2022-04-01</li>
              <li>NT$60,000</li>
              <li>待出貨</li>
              <li style="outline: 1px solid #ffffff; border-radius: 2px; padding: 1px 5px;">查看</li>
            </ul>
          </button>
          <div class="order-content padding_10">
            <table class="order-details">
              <tr>
                <th>商品名稱</th>
                <th>材質</th>
                <th>數量</th>
                <th>價錢</th>
              </tr>
              <tr>
                <td>羅丹辦公桌</td>
                <td>白橡木</td>
                <td>1</td>
                <td>NT$18,999</td>
              </tr>
              <tr>
                <td>羅丹辦公桌</td>
                <td>白橡木</td>
                <td>1</td>
                <td>NT$20,000</td>
              </tr>
              <tr>
                <td>羅丹辦公桌</td>
                <td>白橡木</td>
                <td>1</td>
                <td>NT$11,001</td>
              </tr>
              <tr>
                <td>羅丹辦公桌</td>
                <td>白橡木</td>
                <td>1</td>
                <td>NT$10,000</td>
              </tr>
            </table>
          </div>

          <button type="button" class="collapsible padding_10">
            <ul class="order-list">
              <li>22010133</li>
              <li>2022-04-01</li>
              <li>NT$1,450</li>
              <li>已取消</li>
              <li style="outline: 1px solid #ffffff; border-radius: 2px; padding: 1px 5px;">查看</li>
            </ul>
          </button>
          <div class="order-content padding_10">
            <table class="order-details">
              <tr>
                <th>商品名稱</th>
                <th>材質</th>
                <th>數量</th>
                <th>價錢</th>
              </tr>
              <tr>
                <td>羅丹辦公桌</td>
                <td>白橡木</td>
                <td>1</td>
                <td>NT$10,000</td>
              </tr>
            </table>
          </div>
        </div>

        <!-- 收藏清單內容 -->
        <div id="favor" data-tab-content class="container">
          <div class="row">

            <div class="liked_product col-12 col-lg-3 col-md-6">
              <i class="heart-like-button fas fa-heart"></i>
              <img class="liked_img" src="/img/member/favor/chair_001.jpg">
              <span> 羅丹辦公椅</span>
            </div>

            <div class="liked_product col-12 col-lg-3 col-md-6">
              <i class="heart-like-button fas fa-heart"></i>
              <img class="liked_img" src="/img/member/favor/chair_002.jpg">
              <span> 羅丹辦公椅</span>
            </div>

            <div class="liked_product col-12 col-lg-3 col-md-6">
              <i class="heart-like-button fas fa-heart"></i>
              <img class="liked_img" src="/img/member/favor/chair_003.jpg">
              <span> 羅丹辦公椅</span>
            </div>

            <div class="liked_product col-12 col-lg-3 col-md-6">
              <i class="heart-like-button fas fa-heart"></i>
              <img class="liked_img" src="/img/member/favor/chair_001.jpg">
              <span> 羅丹辦公椅</span>
            </div>

            <div class="liked_product col-12 col-lg-3 col-md-6">
              <i class="heart-like-button fas fa-heart"></i>
              <img class="liked_img" src="/img/member/favor/chair_001.jpg">
              <span> 羅丹辦公椅</span>
            </div>
          </div>
        </div>
      </div>
    </main>

    @@include('layout/footer.html')

    <script>
      //  tab頁籤轉換
      const tabs = document.querySelectorAll("[data-tab-target]");
      const tabContents = document.querySelectorAll("[data-tab-content]");

      tabs.forEach((tab) => {
        tab.addEventListener("click", () => {
          const target = document.querySelector(tab.dataset.tabTarget);
          tabContents.forEach((tabContent) => {
            tabContent.classList.remove("active");           
          });
          tabs.forEach((tab) => {
            tab.classList.remove("active");
          });
          tab.classList.add("active");
          target.classList.add("active");
          // console.log(target)
        });
      });

      // 訂單查詢明細展開
      var order = document.getElementsByClassName("collapsible");
      var i;

      for (let i = 0; i < order.length; i++) {
        order[i].addEventListener("click", function () {
          this.classList.toggle("active");
          var content = this.nextElementSibling;
          if (content.style.display === "block") {
            content.style.display = "none";
          } else {
            content.style.display = "block";
          }
        });
      }

      for (i = 0; i < order.length; i++) {
        order[i].addEventListener("click", function () {
          this.classList.toggle("active");
          var content = this.nextElementSibling;
          if (content.style.maxHeight) {
            content.style.maxHeight = null;
          } else {
            content.style.maxHeight = content.scrollHeight + "px";
          }
        });
      }

      // 收藏清單愛心點擊照片消失功能
      const heart_btn = document.querySelectorAll(".heart-like-button");
      const liked_product = document.querySelectorAll('.liked_product');
      // console.log(heart_btn);
      // console.log(liked_product);

      for (let i = 0; i < heart_btn.length; i++){
        heart_btn[i].addEventListener("click", function(e){
        e.target.closest("div.liked_product").remove();
        });
      }
    </script>
  </body>
</html>