<!DOCTYPE html>
<html lang="en">
  <head>
    @@include('layout/head.html')
    <!-- 字型 google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <!-- lightSlider & fancybox css -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/lightslider/1.1.6/css/lightslider.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.css"
    />
  </head>
  <body id="customizeItem">
    @@include('layout/login.html') @@include('layout/nav.html')

    <main>
      <section class="container product-detail">
        <div class="row justify-content-between">
          <div
            class="imagery col-lg-6"
            style="background-image: url('/img/customize/color/brown.jpg')"
          >
            <img src="/img/customize/image/xr-brown.png" class="type-image" />
          </div>

          <div class="col-lg-6">
            <form class="detail margin_top_30">
              <div class="catagory">
                <button id="table" data-catagory="table" class="selected catagory-btn">原木圓桌</button>
                <button id="cabinet" data-catagory="cabinet" class="catagory-btn">原木收納櫃</button>
                <button id="chair" data-catagory="chair" class="catagory-btn">原木餐椅</button>
              </div>

              <div class="options">
                <p class="margin_top_20">請選擇木材</p>
                <div class="colors btn_grid margin_top_20">
                  <div class="btn_wrap padding_10">
                    <button
                      type="button"
                      class="color brown padding_10 selected"
                      data-name="brown"
                      data-color="#7f4f24"
                    >
                      胡桃木
                    </button>
                  </div>
                  <div class="btn_wrap padding_10">
                    <button
                      type="button"
                      class="color beige padding_10"
                      data-name="beige"
                      data-color="#fefae0"
                    >
                      白梣木
                    </button>
                  </div>
                  <div class="btn_wrap padding_10">
                    <button
                      type="button"
                      class="color red padding_10"
                      data-name="red"
                      data-color="#800f2f"
                    >
                      紅橡木
                    </button>
                  </div>
                  <div class="btn_wrap padding_10">
                    <button
                      type="button"
                      class="color green padding_10"
                      data-name="green"
                      data-color="#6b705c"
                    >
                      綠橡木
                    </button>
                  </div>
                  <div class="btn_wrap padding_10">
                    <button
                      type="button"
                      class="color black padding_10"
                      data-name="black"
                      data-color="#081c15"
                    >
                      黑梣木
                    </button>
                  </div>
                </div>

                <div class="qty margin_top_20">
                  數量<br /><input type="number" value="1" />
                </div>
                <div class="comment margin_top_20">
                  其他需求<br /><textarea></textarea>
                </div>

                <button type="submit" class="submit margin_top_10 btn_style">
                  送出訂製單
                </button>
              </div>
            </form>
          </div>
        </div>
      </section>
    </main>

    @@include('layout/footer.html')

    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/lightslider/1.1.6/js/lightslider.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script> -->
    <scrip src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js"></script>
    <script>
      window.onload = function () {
        const color_btn_el = document.querySelectorAll(".colors .color");
        const imagery_el = document.querySelector("div.imagery");
        // console.log(imagery_el);
        const image_el = document.querySelector(".imagery .type-image");
        // console.log(image_el);

        for (let i = 0; i < color_btn_el.length; i++) {
          let btn = color_btn_el[i];

          btn.addEventListener("click", function () {
            document
              .querySelector(".colors .color.selected")
              .classList.remove("selected");
            this.classList.add("selected");
            // 產品圖片邊更
            image_el.src =
              "/img/customize/image/xr-" + this.dataset.name + ".png";

            // 背景圖變更
            imagery_el.style.backgroundImage = `url('/img/customize/color/${this.dataset.name}.jpg')`;
            // console.log(imagery_el);
            // console.log(this.dataset.name);
          });
        }

      };
      
      // catagory-btn 種類切換
      $(document).ready(function() {
        $(".catagory-btn").on("click", function () {
        $(".catagory-btn").removeClass("selected");
        $(this).addClass("selected");
        });
      });

      // 種類圖片切換
      let img = document.querySelector(".type-image");
      let tableBtn = document.querySelector("#table");
      let cabinetBtn = document.querySelector("#cabinet");
      let chairBtn = document.querySelector("#chair");

      $( document ).ready(function() {
        tableBtn.addEventListener('click', () => {
        img.src = '/img/customize/image/xr-brown.png';
        })
        cabinetBtn.addEventListener('click', () => {
        img.src = '/img/customize/image/cb-brown.png';
        })
        chairBtn.addEventListener('click', () => {
        img.src = '/img/customize/image/ch-brown.png';
        })
      });
      
    </script>
  </body>
</html>
